(this.webpackJsonpchatter=this.webpackJsonpchatter||[]).push([[8],{113:function(e,t,n){"use strict";n.r(t);var r=n(32),i=n(0),c=n(1),u=n(57),a=n(39),s=n(44),o=n(45),l=(n(88),n(52)),f=n(49),h=n(31),d=n(35),g=n(3),p=function(e){var t=e.changeOp,n=Object(i.useState)(""),p=Object(r.a)(n,2),j=p[0],b=p[1],O=Object(i.useState)(""),v=Object(r.a)(O,2),m=v[0],y=v[1],S=Object(i.useState)({}),U=Object(r.a)(S,2),x=U[0],w=U[1],R=Object(i.useState)(!1),N=Object(r.a)(R,2),k=N[0],A=N[1],C=Object(i.useState)(s.r),P=Object(r.a)(C,2),I=P[0],E=P[1],W=Object(c.g)();Object(i.useEffect)((function(){k&&(E(Object(s.q)(s.b)),Object(h.a)(.5,G))}),[k]);var G=function(){var e=new d.a;x?e.getUserDetails(x.email||"").then((function(e){e.name&&e.profileUrl?W.push("/Chatter/chat"):W.push("/Chatter/details")})).catch((function(e){W.push("/Chatter/details")})):(w({}),A(!1))},T=function(e){E(Object(s.c)(e)),Object(h.a)(1,L)},L=function(){E(s.r)},D=function(e,t){var n,r;(w(e.user),null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.emailVerified)?A(!0):(r=s.u,E(Object(s.v)(r)),Object(h.a)(1,L),t.signOut().then().catch())};return Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"SignIN"}),Object(g.jsx)("p",{className:"loginStatement",children:"Login to access your chats"}),Object(g.jsxs)("form",{action:"",className:"loginForm",onSubmit:function(e){if(e.preventDefault(),Object(l.a)(f.a,j)&&Object(l.a)(f.c,m)){var t=new u.a;t.usernameWithPassSignIn(j,m).then((function(e){D(e,t)})).catch((function(e){T(s.a)}))}else T(s.i)},children:[Object(g.jsx)("input",{type:"text",placeholder:"Email",onChange:function(e){return b(e.target.value)}}),Object(g.jsx)("input",{type:"password",placeholder:"Password",onChange:function(e){return y(e.target.value)}}),Object(g.jsx)("button",{children:"Login"})]}),Object(g.jsxs)("div",{className:"horzontailLine",children:[Object(g.jsx)("div",{className:"line"}),Object(g.jsx)("div",{children:"or Sign In with Google"}),Object(g.jsx)("div",{className:"line"})]}),Object(g.jsxs)("div",{className:"googleSignInButton",onClick:function(){var e=new u.a;e.signInWithGoogle().then((function(t){D(t,e)})).catch((function(e){T(s.g)}))},children:[Object(g.jsx)("img",{src:"https://img.icons8.com/color/48/000000/google-logo.png",alt:"Google logo"}),Object(g.jsx)("i",{className:"fab fa-google fa-3x"}),Object(g.jsx)("p",{children:"SignIn with Google"})]}),Object(g.jsxs)("div",{className:"newuserBox",children:[Object(g.jsx)("p",{children:"New user?"}),Object(g.jsx)("p",{className:"signUpButton",onClick:function(){t(a.g)},children:"SignUp"})]}),Object(g.jsx)(o.a,{time:1,message:I.message,type:I.type,showToast:I.showToast})]})},j=(n(89),function(e){var t=e.changeOp,n=Object(i.useState)(""),c=Object(r.a)(n,2),d=c[0],p=c[1],j=Object(i.useState)(""),b=Object(r.a)(j,2),O=b[0],v=b[1],m=Object(i.useState)(s.r),y=Object(r.a)(m,2),S=y[0],U=y[1],x=function(e){U(Object(s.c)(e)),Object(h.a)(1,w)},w=function(){U(s.r)},R=function(e){U(Object(s.q)(s.p)),Object(h.a)(1,w),e.sendVerificationEmail().then().catch()};return Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"SignUp"}),Object(g.jsx)("p",{className:"loginStatement",children:"SignUp to start chatting"}),Object(g.jsxs)("form",{action:"",className:"signUpForm",onSubmit:function(e){if(e.preventDefault(),Object(l.a)(f.a,d)&&Object(l.a)(f.c,O)){var t=new u.a;t.signUpWithUsernameAndPass(d,O).then((function(e){R(t)})).catch((function(e){x(s.o)}))}else x(s.i)},children:[Object(g.jsx)("input",{type:"text",placeholder:"Email",onChange:function(e){return p(e.target.value)}}),Object(g.jsx)("input",{type:"password",placeholder:"Password",onChange:function(e){return v(e.target.value)}}),Object(g.jsx)("button",{children:"SignUp"})]}),Object(g.jsxs)("div",{className:"horzontailLine",children:[Object(g.jsx)("div",{className:"line"}),Object(g.jsx)("div",{children:"or Sign Up with Google"}),Object(g.jsx)("div",{className:"line"})]}),Object(g.jsxs)("div",{className:"googleSignInButton",onClick:function(){var e=new u.a;e.signInWithGoogle().then((function(t){R(e)})).catch((function(e){x(s.g)}))},children:[Object(g.jsx)("img",{src:"https://img.icons8.com/color/48/000000/google-logo.png"}),Object(g.jsx)("i",{className:"fab fa-google fa-3x"}),Object(g.jsx)("p",{children:"SignUp with Google"})]}),Object(g.jsxs)("div",{className:"newuserBox",children:[Object(g.jsx)("p",{children:"Already a User?"}),Object(g.jsx)("p",{className:"signUpButton",onClick:function(){t(a.e)},children:"SignIn"})]}),Object(g.jsx)(o.a,{time:1,message:S.message,type:S.type,showToast:S.showToast})]})});n(90),t.default=function(){var e=Object(i.useState)(a.e),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(g.jsx)("main",{className:"loginWrapper",children:Object(g.jsxs)("section",{className:"loginContainer",children:[Object(g.jsx)("div",{className:"signinSignUp",children:n===a.e?Object(g.jsx)(p,{changeOp:c}):Object(g.jsx)(j,{changeOp:c})}),Object(g.jsx)("div",{className:"resImg",children:Object(g.jsx)("img",{src:a.d,alt:n})})]})})}},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c}));var r=function(e,t){setTimeout(t,1e3*e)},i=function(e){return(null===e||void 0===e?void 0:e.replaceAll("@","").replaceAll(".",""))||""},c=function(e,t){return[i(e.toLocaleLowerCase()),i(t.toLocaleLowerCase())].sort().join("-")}},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(38),i=n(36),c=n(33),u=n(34),a=n(43),s=n(31),o=n(37),l=function(){function e(){Object(c.a)(this,e),this.database=void 0,this.auth=void 0,this.database=o.a.database(),this.auth=o.a.auth()}return Object(u.a)(e,[{key:"getUserRef",value:function(){return this.database.ref().child("users")}},{key:"getCurrentuserRef",value:function(){var e,t=Object(s.c)((null===(e=this.getCurrentUser())||void 0===e?void 0:e.email)||"");return this.getUserRef().child(t)}},{key:"getAllUsers",value:function(){var e=this;return new Promise((function(t,n){e.getUserRef().get().then((function(e){return e.exists()?t(e.val()):n(a.e)})).catch((function(e){return n(a.e)}))}))}},{key:"getCurrentUserData",value:function(e){return this.getCurrentuserRef().on("value",e)}},{key:"getLiveUpdateOfUser",value:function(e){this.getUserRef().on("value",e)}},{key:"getUserDetails",value:function(e){var t=this;return new Promise((function(n,r){t.getUserRef().child(Object(s.c)(e)).get().then((function(e){e.exists()?n(e.val()):r(a.e)})).catch((function(e){r(a.e)}))}))}},{key:"saveUserData",value:function(e){var t,n=this,c=(null===(t=this.getCurrentUser())||void 0===t?void 0:t.email)||"";return new Promise((function(t,u){n.getUserRef().get().then((function(o){o.exists()?n.getUserRef().update(Object(i.a)(Object(i.a)({},o.val()),{},Object(r.a)({},Object(s.c)(c),Object(i.a)(Object(i.a)(Object(i.a)({},o.val()[Object(s.c)(c)]),e),{},{email:c})))).then((function(e){return t(e)})).catch((function(e){return u(e)})):u(a.e)})).catch((function(e){return u(e)}))}))}},{key:"removeFromGroup",value:function(e){var t;return this.updateUserGroupData(Object(s.c)((null===(t=this.getCurrentUser())||void 0===t?void 0:t.email)||""),e,!1)}},{key:"updateUserGroupData",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.getUserRef().child(e).child("groups").update(Object(r.a)({},t,n))}},{key:"getCurrentUser",value:function(){return this.auth.currentUser}},{key:"sendRequest",value:function(e,t){return this.getUserRef().child(t).child("requests").update(Object(r.a)({},e,!0))}},{key:"getRequests",value:function(){return this.getCurrentuserRef().child("requests").get()}},{key:"acceptFriendRequest",value:function(e,t){return Promise.all([this.getUserRef().child(t).child("friends").child(e).set(!0),this.getUserRef().child(e).child("friends").child(t).set(!0),this.getUserRef().child(t).child("requests").update(Object(r.a)({},e,null))])}},{key:"rejectFriendRequest",value:function(e,t){return this.getUserRef().child(e).child("requests").update(Object(r.a)({},t,null))}},{key:"getMyFriends",value:function(e){return this.getCurrentuserRef().child("/friends/").on("value",e)}},{key:"activateUser",value:function(){return this.getCurrentuserRef().child("active").set(!0)}},{key:"deactivateUser",value:function(){return this.getCurrentuserRef().child("active").set((new Date).getTime())}}]),e}()},37:function(e,t,n){"use strict";var r=n(33),i=n(34),c=n(56),u=n(43),a={apiKey:"".concat(u.a),authDomain:"".concat(u.f,".firebaseapp.com"),databaseURL:"https://".concat(u.b,".firebaseio.com"),projectId:"".concat(u.f),storageBucket:"".concat(u.f,".appspot.com"),messagingSenderId:"".concat(u.g),appId:"".concat(u.g),measurementId:"".concat(u.d)},s=function(){function e(){Object(r.a)(this,e),this.firebaseApp=void 0,c.a.apps.length<1?this.firebaseApp=c.a.initializeApp(a):this.firebaseApp=c.a.apps[0]}return Object(i.a)(e,[{key:"auth",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.firebaseApp.auth()}))},{key:"database",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.firebaseApp.database()}))},{key:"storage",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.firebaseApp.storage()}))}]),e}();t.a=new s},39:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"h",(function(){return l}));var r="LOGIN_OP",i="SIGNUP_OP",c="https://firebasestorage.googleapis.com/v0/b/chatter-app-one-on-one.appspot.com/o/loginImage.jpeg?alt=media&token=09f5d322-c617-499a-aace-573a2ddf737e",u={name:""},a="CREATE_GROUP",s="eaf083c1-1279-48d1-87e4-c5ce02eae56f",o="GROUP_CHAT",l="USER_CHAT"},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return o}));var r="AIzaSyBOJETyCSbUiUsVuVF4YLXWKKW0HfOgw3o",i="chatter-app-one-on-one",c="chatter-app-one-on-one-default-rtdb",u="667912198050",a="G-RHV4CQS211",s={code:"404",message:"DATA NOT AVAILABLE"},o="value"},44:function(e,t,n){"use strict";n.d(t,"r",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"q",(function(){return c})),n.d(t,"v",(function(){return u})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"u",(function(){return f})),n.d(t,"o",(function(){return h})),n.d(t,"p",(function(){return d})),n.d(t,"g",(function(){return g})),n.d(t,"e",(function(){return p})),n.d(t,"j",(function(){return j})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return O})),n.d(t,"t",(function(){return v})),n.d(t,"n",(function(){return m})),n.d(t,"l",(function(){return y})),n.d(t,"s",(function(){return S})),n.d(t,"k",(function(){return U})),n.d(t,"m",(function(){return x}));var r={message:"",type:"NON",showToast:!1},i=function(e){return{message:e,type:"ERROR",showToast:!0}},c=function(e){return{message:e,type:"SUCCESS",showToast:!0}},u=function(e){return{message:e,type:"WARNING",showToast:!0}},a=function(e){return{message:e,type:"NON",showToast:!0}},s="Invalid Username or Password",o="Username and Password didn't match, please check",l="Successfully Loggedin",f="Please verify your mailID.",h="Failed to Signup, something went wrong",d="Successfully signed up!!!, please verify your mail",g="Something went wrong",p="Failed to update data, please try again later!!!",j="Please eneter atleast 3 letters to search!",b=function(e){return"Your request is sent to the ".concat(e)},O=function(e){return"Failed to send your request to the ".concat(e)},v="Added to user list!!",m="Request is removed!!",y="Not able to update, please check your internet connection !!!",S="Details Update successfully!!!",U="Please add all required data or file is larger...",x="Not able to create the group..."},45:function(e,t,n){"use strict";var r=n(32),i=n(46),c=n(42),u=n(0),a=n(31),s=(n(55),n(3));t.a=function(e){var t=e.time,n=e.message,o=e.type,l=e.styles,f=void 0===l?{}:l,h=e.showToast,d=void 0!==h&&h,g=Object(u.useState)(!1),p=Object(r.a)(g,2),j=p[0],b=p[1];Object(u.useEffect)((function(){d&&O()}),[d]);var O=function(){b(!0),Object(a.a)(t,v)},v=function(){return b(!1)};return j?Object(s.jsxs)("div",{className:function(e){switch(e){case"ERROR":return"toastWrapper error";case"SUCCESS":return"toastWrapper success";case"WARNING":return"toastWrapper warning";default:return"toastWrapper info"}}(o),style:f,children:[Object(s.jsx)("div",{className:"iconWrapper",children:Object(s.jsx)(c.a,{icon:function(e){switch(e){case"ERROR":return i.k;case"SUCCESS":return i.b;case"WARNING":return i.f;default:return i.g}}(o)})}),Object(s.jsx)("div",{className:"messageWrapper",children:n})]}):null}},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c}));var r="EMAIL",i="PASSWORD",c="NAME"},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(49),i=function(e,t){var n,i,c=[];return e===r.a&&c.push(function(e){if(""!==e)return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase());return!1}(t)),e===r.c&&c.push(""!==(n=t)&&n.length>=8),e===r.b&&c.push(""!==(i=t)&&i.length>=8),!c.some((function(e){return!e}))}},55:function(e,t,n){},57:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(33),i=n(34);function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}var l=n(56),f=n(37),h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,e);var t=o(n);function n(){return Object(r.a)(this,n),t.call(this)}return Object(i.a)(n,[{key:"usernameWithPassSignIn",value:function(e,t){return this.SignInWithEmailAndPassword(e,t)}},{key:"signOut",value:function(){return this.SignOutAuth()}},{key:"signInWithGoogle",value:function(){return this.googleSignIn()}},{key:"signUpWithUsernameAndPass",value:function(e,t){return this.signUpWithEmailAndPass(e,t)}}]),n}(function(){function e(){Object(r.a)(this,e),this.auth=void 0,this.authProvider=new l.a.auth.GoogleAuthProvider,this.auth=f.a.auth()}return Object(i.a)(e,[{key:"SignInWithEmailAndPassword",value:function(e,t){return this.auth.signInWithEmailAndPassword(e,t)}},{key:"SignOutAuth",value:function(){return this.auth.signOut()}},{key:"googleSignIn",value:function(){return this.auth.signInWithPopup(this.authProvider)}},{key:"signUpWithEmailAndPass",value:function(e,t){return this.auth.createUserWithEmailAndPassword(e,t)}},{key:"sendVerificationEmail",value:function(){var e;return null===(e=this.auth.currentUser)||void 0===e?void 0:e.sendEmailVerification()}},{key:"getCurrentUser",value:function(){return this.auth.currentUser}}]),e}())},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){}}]);
//# sourceMappingURL=8.ee0c6030.chunk.js.map