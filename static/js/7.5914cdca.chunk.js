(this.webpackJsonpchatter=this.webpackJsonpchatter||[]).push([[7],{111:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(35),u=n(32),i=n(39),s=(n(91),n(3)),o=a.a.lazy((function(){return Promise.all([n.e(13),n.e(10)]).then(n.bind(null,112))})),l=a.a.lazy((function(){return Promise.all([n.e(2),n.e(14)]).then(n.bind(null,74))})),f=a.a.lazy((function(){return Promise.all([n.e(1),n.e(12)]).then(n.bind(null,77))})),d=a.a.lazy((function(){return Promise.all([n.e(1),n.e(11)]).then(n.bind(null,76))})),h=function(){var e=Object(r.useState)({}),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(s.jsxs)("div",{className:"GroupChatWrapper",children:[Object(s.jsx)("div",{className:"GroupChatList",children:Object(s.jsx)(o,{setActiveGroup:a})}),Object(s.jsxs)("div",{className:"GroupChatMessages",children:[Object.keys(n).length>0&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"chatHeader",children:Object(s.jsx)(f,{activeGroup:n,type:i.c,handleRestGroup:function(){return a({})}})}),Object(s.jsx)("div",{className:"messages",children:Object(s.jsx)(d,{activeGroup:n})}),Object(s.jsx)("div",{className:"messageInput",children:Object(s.jsx)(l,{activeGroup:n})})]}),Object.keys(n).length<=0&&Object(s.jsx)("div",{className:"typewriter center",children:Object(s.jsx)("h1",{children:"Choose a group to chat..."})})]})]})},p=n(38),b=n(36),v=n(44),j=n(49),g=n(31),O=n(52),m=n(45),y=(n(92),n(61)),U=n(62),R=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)({}),o=Object(u.a)(i,2),l=o[0],f=o[1],d=Object(r.useState)(v.r),h=Object(u.a)(d,2),R=h[0],x=h[1];Object(r.useEffect)((function(){(new c.a).getCurrentUserData((function(e){return f(e.val())}))}),[]);var S=function(e){e&&Object(O.a)(j.b,l.name)?(new y.a).saveProfilePic(e).then((function(e){e.ref.getDownloadURL().then((function(e){w(e)})).catch((function(e){x(Object(v.c)(v.e)),Object(g.a)(1,C)}))})):Object(O.a)(j.b,l.name)?w():(x(Object(v.c)(v.e)),Object(g.a)(1,C))},w=function(e){var t=new c.a,n=Object(b.a)({},l);e&&(n.profileUrl=e),t.saveUserData(n).then((function(e){x(Object(v.q)(v.s)),Object(g.a)(1,C)})).catch((function(e){x(Object(v.c)(v.e)),Object(g.a)(1,C)}))},C=function(){return x(v.r)};return Object(s.jsxs)("section",{className:"profileWrapper center",children:[Object(s.jsxs)("div",{className:"profile center",children:[Object(s.jsx)("h3",{children:"Update your profile"}),Object(s.jsxs)("form",{className:"center",onSubmit:function(e){return e.preventDefault()},children:[Object(s.jsx)("input",{type:"text",name:"name",placeholder:"Enter your name....",onChange:function(e){f(Object(b.a)(Object(b.a)({},l),{},Object(p.a)({},e.target.name,e.target.value)))},value:l.name}),Object(s.jsx)("label",{htmlFor:"profilePic",className:"center button",children:"Select your profile image..."}),Object(s.jsx)("input",{id:"profilePic",type:"file",title:"Select your profile image...",accept:"image/png, image/gif, image/jpeg",onChange:function(e){return Object(U.a)(e,a)}}),n?Object(s.jsx)("span",{className:"profilePicname",children:n}):null,Object(s.jsx)("div",{className:"submitButton button",onClick:function(e){var t,r;(e.preventDefault(),""!==n)?S(null===(t=document.getElementById("profilePic"))||void 0===t||null===(r=t.files)||void 0===r?void 0:r.item(0)):S(null)},children:"Save Updates"})]})]}),Object(s.jsx)(m.a,{time:1,message:R.message,type:R.type,showToast:R.showToast})]})},x=(n(93),Object(r.lazy)((function(){return n.e(15).then(n.bind(null,114))}))),S=Object(r.lazy)((function(){return n.e(16).then(n.bind(null,109))})),w=Object(r.lazy)((function(){return Promise.all([n.e(1),n.e(2),n.e(6)]).then(n.bind(null,115))}));t.default=function(e){var t=function(t){return e.match.params.id.includes(t)};return Object(r.useEffect)((function(){var e=new c.a;e.activateUser().then().catch(),window.addEventListener("beforeunload",(function(){e.deactivateUser().then().catch()}))}),[]),Object(s.jsxs)("main",{className:"mainApp",children:[Object(s.jsx)("div",{className:"sidebar",children:Object(s.jsx)(x,{})}),Object(s.jsxs)("div",{className:"messageBox",children:[t("friendRequests")&&Object(s.jsx)(S,{}),t("chat")&&Object(s.jsx)(w,{}),t("profile")&&Object(s.jsx)(R,{}),t("groupChat")&&Object(s.jsx)(h,{})]})]})}},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c}));var r=function(e,t){setTimeout(t,1e3*e)},a=function(e){return(null===e||void 0===e?void 0:e.replaceAll("@","").replaceAll(".",""))||""},c=function(e,t){return[a(e.toLocaleLowerCase()),a(t.toLocaleLowerCase())].sort().join("-")}},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(38),a=n(36),c=n(33),u=n(34),i=n(43),s=n(31),o=n(37),l=function(){function e(){Object(c.a)(this,e),this.database=void 0,this.auth=void 0,this.database=o.a.database(),this.auth=o.a.auth()}return Object(u.a)(e,[{key:"getUserRef",value:function(){return this.database.ref().child("users")}},{key:"getCurrentuserRef",value:function(){var e,t=Object(s.c)((null===(e=this.getCurrentUser())||void 0===e?void 0:e.email)||"");return this.getUserRef().child(t)}},{key:"getAllUsers",value:function(){var e=this;return new Promise((function(t,n){e.getUserRef().get().then((function(e){return e.exists()?t(e.val()):n(i.e)})).catch((function(e){return n(i.e)}))}))}},{key:"getCurrentUserData",value:function(e){return this.getCurrentuserRef().on("value",e)}},{key:"getLiveUpdateOfUser",value:function(e){this.getUserRef().on("value",e)}},{key:"getUserDetails",value:function(e){var t=this;return new Promise((function(n,r){t.getUserRef().child(Object(s.c)(e)).get().then((function(e){e.exists()?n(e.val()):r(i.e)})).catch((function(e){r(i.e)}))}))}},{key:"saveUserData",value:function(e){var t,n=this,c=(null===(t=this.getCurrentUser())||void 0===t?void 0:t.email)||"";return new Promise((function(t,u){n.getUserRef().get().then((function(o){o.exists()?n.getUserRef().update(Object(a.a)(Object(a.a)({},o.val()),{},Object(r.a)({},Object(s.c)(c),Object(a.a)(Object(a.a)(Object(a.a)({},o.val()[Object(s.c)(c)]),e),{},{email:c})))).then((function(e){return t(e)})).catch((function(e){return u(e)})):u(i.e)})).catch((function(e){return u(e)}))}))}},{key:"removeFromGroup",value:function(e){var t;return this.updateUserGroupData(Object(s.c)((null===(t=this.getCurrentUser())||void 0===t?void 0:t.email)||""),e,!1)}},{key:"updateUserGroupData",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.getUserRef().child(e).child("groups").update(Object(r.a)({},t,n))}},{key:"getCurrentUser",value:function(){return this.auth.currentUser}},{key:"sendRequest",value:function(e,t){return this.getUserRef().child(t).child("requests").update(Object(r.a)({},e,!0))}},{key:"getRequests",value:function(){return this.getCurrentuserRef().child("requests").get()}},{key:"acceptFriendRequest",value:function(e,t){return Promise.all([this.getUserRef().child(t).child("friends").child(e).set(!0),this.getUserRef().child(e).child("friends").child(t).set(!0),this.getUserRef().child(t).child("requests").update(Object(r.a)({},e,null))])}},{key:"rejectFriendRequest",value:function(e,t){return this.getUserRef().child(e).child("requests").update(Object(r.a)({},t,null))}},{key:"getMyFriends",value:function(e){return this.getCurrentuserRef().child("/friends/").on("value",e)}},{key:"activateUser",value:function(){return this.getCurrentuserRef().child("active").set(!0)}},{key:"deactivateUser",value:function(){return this.getCurrentuserRef().child("active").set((new Date).getTime())}}]),e}()},37:function(e,t,n){"use strict";var r=n(33),a=n(34),c=n(56),u=n(43),i={apiKey:"".concat(u.a),authDomain:"".concat(u.f,".firebaseapp.com"),databaseURL:"https://".concat(u.b,".firebaseio.com"),projectId:"".concat(u.f),storageBucket:"".concat(u.f,".appspot.com"),messagingSenderId:"".concat(u.g),appId:"".concat(u.g),measurementId:"".concat(u.d)},s=function(){function e(){Object(r.a)(this,e),this.firebaseApp=void 0,c.a.apps.length<1?this.firebaseApp=c.a.initializeApp(i):this.firebaseApp=c.a.apps[0]}return Object(a.a)(e,[{key:"auth",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.firebaseApp.auth()}))},{key:"database",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.firebaseApp.database()}))},{key:"storage",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.firebaseApp.storage()}))}]),e}();t.a=new s},39:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"h",(function(){return l}));var r="LOGIN_OP",a="SIGNUP_OP",c="https://firebasestorage.googleapis.com/v0/b/chatter-app-one-on-one.appspot.com/o/loginImage.jpeg?alt=media&token=09f5d322-c617-499a-aace-573a2ddf737e",u={name:""},i="CREATE_GROUP",s="eaf083c1-1279-48d1-87e4-c5ce02eae56f",o="GROUP_CHAT",l="USER_CHAT"},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return o}));var r="AIzaSyBOJETyCSbUiUsVuVF4YLXWKKW0HfOgw3o",a="chatter-app-one-on-one",c="chatter-app-one-on-one-default-rtdb",u="667912198050",i="G-RHV4CQS211",s={code:"404",message:"DATA NOT AVAILABLE"},o="value"},44:function(e,t,n){"use strict";n.d(t,"r",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"q",(function(){return c})),n.d(t,"v",(function(){return u})),n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"u",(function(){return f})),n.d(t,"o",(function(){return d})),n.d(t,"p",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return b})),n.d(t,"j",(function(){return v})),n.d(t,"f",(function(){return j})),n.d(t,"d",(function(){return g})),n.d(t,"t",(function(){return O})),n.d(t,"n",(function(){return m})),n.d(t,"l",(function(){return y})),n.d(t,"s",(function(){return U})),n.d(t,"k",(function(){return R})),n.d(t,"m",(function(){return x}));var r={message:"",type:"NON",showToast:!1},a=function(e){return{message:e,type:"ERROR",showToast:!0}},c=function(e){return{message:e,type:"SUCCESS",showToast:!0}},u=function(e){return{message:e,type:"WARNING",showToast:!0}},i=function(e){return{message:e,type:"NON",showToast:!0}},s="Invalid Username or Password",o="Username and Password didn't match, please check",l="Successfully Loggedin",f="Please verify your mailID.",d="Failed to Signup, something went wrong",h="Successfully signed up!!!, please verify your mail",p="Something went wrong",b="Failed to update data, please try again later!!!",v="Please eneter atleast 3 letters to search!",j=function(e){return"Your request is sent to the ".concat(e)},g=function(e){return"Failed to send your request to the ".concat(e)},O="Added to user list!!",m="Request is removed!!",y="Not able to update, please check your internet connection !!!",U="Details Update successfully!!!",R="Please add all required data or file is larger...",x="Not able to create the group..."},45:function(e,t,n){"use strict";var r=n(32),a=n(46),c=n(42),u=n(0),i=n(31),s=(n(55),n(3));t.a=function(e){var t=e.time,n=e.message,o=e.type,l=e.styles,f=void 0===l?{}:l,d=e.showToast,h=void 0!==d&&d,p=Object(u.useState)(!1),b=Object(r.a)(p,2),v=b[0],j=b[1];Object(u.useEffect)((function(){h&&g()}),[h]);var g=function(){j(!0),Object(i.a)(t,O)},O=function(){return j(!1)};return v?Object(s.jsxs)("div",{className:function(e){switch(e){case"ERROR":return"toastWrapper error";case"SUCCESS":return"toastWrapper success";case"WARNING":return"toastWrapper warning";default:return"toastWrapper info"}}(o),style:f,children:[Object(s.jsx)("div",{className:"iconWrapper",children:Object(s.jsx)(c.a,{icon:function(e){switch(e){case"ERROR":return a.k;case"SUCCESS":return a.b;case"WARNING":return a.f;default:return a.g}}(o)})}),Object(s.jsx)("div",{className:"messageWrapper",children:n})]}):null}},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c}));var r="EMAIL",a="PASSWORD",c="NAME"},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(49),a=function(e,t){var n,a,c=[];return e===r.a&&c.push(function(e){if(""!==e)return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase());return!1}(t)),e===r.c&&c.push(""!==(n=t)&&n.length>=8),e===r.b&&c.push(""!==(a=t)&&a.length>=8),!c.some((function(e){return!e}))}},55:function(e,t,n){},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(33),a=n(34),c=n(31),u=n(37),i=function(){function e(){Object(r.a)(this,e),this.auth=void 0,this.storage=void 0;var t=u.a;this.storage=t.storage(),this.auth=t.auth()}return Object(a.a)(e,[{key:"getCurrentUser",value:function(){return this.auth.currentUser}},{key:"saveProfilePic",value:function(e){var t,n=Object(c.c)((null===(t=this.getCurrentUser())||void 0===t?void 0:t.email)||"");return this.storage.ref("/profilePic/"+n).put(e)}}]),e}()},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"profilePic";if(e.target.validity.valid){var r,a,c,u=(null===(r=document.getElementById(n))||void 0===r||null===(a=r.files)||void 0===a||null===(c=a.item(0))||void 0===c?void 0:c.size)||0;return!(u/1024>1024||0===u)&&(t(e.target.value.split("\\").pop()),!0)}}},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){}}]);
//# sourceMappingURL=7.5914cdca.chunk.js.map