(this.webpackJsonpchatter=this.webpackJsonpchatter||[]).push([[9],{107:function(e,t,n){"use strict";n.r(t);var r=n(38),u=n(36),i=n(32),a=n(0),c=n(1),s=n(39),o=n(44),f=n(49),l=n(61),d=n(35),h=n(62),p=n(31),v=n(52),g=n(45),b=(n(94),n(3));t.default=function(){var e=Object(a.useState)(s.b),t=Object(i.a)(e,2),n=t[0],j=t[1],m=Object(a.useState)(o.r),O=Object(i.a)(m,2),y=O[0],U=O[1],R=Object(a.useState)(""),S=Object(i.a)(R,2),w=S[0],k=S[1],C=Object(a.useState)(!1),A=Object(i.a)(C,2),P=A[0],N=A[1],x=Object(c.g)(),D=function(e){var t=new l.a;return new Promise((function(n,r){N(!0),t.saveProfilePic(e).then((function(e){e.ref.getDownloadURL().then((function(e){n({profileUrl:e})})).catch((function(e){r(e),U(Object(o.c)(o.e)),Object(p.a)(1,I)}))}))}))},I=function(){return U(o.r)};return Object(b.jsxs)("div",{className:"additionalDetailsWrapper",children:[Object(b.jsxs)("div",{className:"additionalDetailsForm",children:[Object(b.jsx)("p",{children:"Please add additional Details to continue:"}),Object(b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),Object(v.a)(f.b,n.name)&&Object(h.a)({target:document.getElementById("profilePic")},k)){var t,r,i=new d.a;D(null===(t=document.getElementById("profilePic"))||void 0===t||null===(r=t.files)||void 0===r?void 0:r.item(0)).then((function(e){i.saveUserData(Object(u.a)(Object(u.a)({},n),e)).then((function(e){x.push("/Chatter/chat")})).catch((function(e){U(Object(o.c)(o.e)),N(!1)}))})).catch((function(){N(!1)}))}else U(Object(o.c)(o.k)),Object(p.a)(1,I)},children:[Object(b.jsx)("input",{type:"text",required:!0,placeholder:"Full Name",name:"name",onChange:function(e){var t,n=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name;j((function(t){var i;return Object(u.a)(Object(u.a)({},t),{},Object(r.a)({},n,null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value))}))}}),Object(b.jsx)("label",{htmlFor:"profilePic",className:"center button",children:"Select your profile image..."}),Object(b.jsx)("input",{id:"profilePic",type:"file",title:"Select your profile image...",accept:"image/png, image/gif, image/jpeg",onChange:function(e){return Object(h.a)(e,k)}}),w?Object(b.jsx)("span",{className:"profilePicname",children:w}):null,Object(b.jsx)("button",{disabled:P,children:"Save Details"})]})]}),Object(b.jsx)(g.a,{time:1,message:y.message,type:y.type,showToast:y.showToast})]})}},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return i}));var r=function(e,t){setTimeout(t,1e3*e)},u=function(e){return(null===e||void 0===e?void 0:e.replaceAll("@","").replaceAll(".",""))||""},i=function(e,t){return[u(e.toLocaleLowerCase()),u(t.toLocaleLowerCase())].sort().join("-")}},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(38),u=n(36),i=n(33),a=n(34),c=n(43),s=n(31),o=n(37),f=function(){function e(){Object(i.a)(this,e),this.database=void 0,this.auth=void 0,this.database=o.a.database(),this.auth=o.a.auth()}return Object(a.a)(e,[{key:"getUserRef",value:function(){return this.database.ref().child("users")}},{key:"getCurrentuserRef",value:function(){var e,t=Object(s.c)((null===(e=this.getCurrentUser())||void 0===e?void 0:e.email)||"");return this.getUserRef().child(t)}},{key:"getAllUsers",value:function(){var e=this;return new Promise((function(t,n){e.getUserRef().get().then((function(e){return e.exists()?t(e.val()):n(c.e)})).catch((function(e){return n(c.e)}))}))}},{key:"getCurrentUserData",value:function(e){return this.getCurrentuserRef().on("value",e)}},{key:"getLiveUpdateOfUser",value:function(e){this.getUserRef().on("value",e)}},{key:"getUserDetails",value:function(e){var t=this;return new Promise((function(n,r){t.getUserRef().child(Object(s.c)(e)).get().then((function(e){e.exists()?n(e.val()):r(c.e)})).catch((function(e){r(c.e)}))}))}},{key:"saveUserData",value:function(e){var t,n=this,i=(null===(t=this.getCurrentUser())||void 0===t?void 0:t.email)||"";return new Promise((function(t,a){n.getUserRef().get().then((function(o){o.exists()?n.getUserRef().update(Object(u.a)(Object(u.a)({},o.val()),{},Object(r.a)({},Object(s.c)(i),Object(u.a)(Object(u.a)(Object(u.a)({},o.val()[Object(s.c)(i)]),e),{},{email:i})))).then((function(e){return t(e)})).catch((function(e){return a(e)})):a(c.e)})).catch((function(e){return a(e)}))}))}},{key:"removeFromGroup",value:function(e){var t;return this.updateUserGroupData(Object(s.c)((null===(t=this.getCurrentUser())||void 0===t?void 0:t.email)||""),e,!1)}},{key:"updateUserGroupData",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.getUserRef().child(e).child("groups").update(Object(r.a)({},t,n))}},{key:"getCurrentUser",value:function(){return this.auth.currentUser}},{key:"sendRequest",value:function(e,t){return this.getUserRef().child(t).child("requests").update(Object(r.a)({},e,!0))}},{key:"getRequests",value:function(){return this.getCurrentuserRef().child("requests").get()}},{key:"acceptFriendRequest",value:function(e,t){return Promise.all([this.getUserRef().child(t).child("friends").child(e).set(!0),this.getUserRef().child(e).child("friends").child(t).set(!0),this.getUserRef().child(t).child("requests").update(Object(r.a)({},e,null))])}},{key:"rejectFriendRequest",value:function(e,t){return this.getUserRef().child(e).child("requests").update(Object(r.a)({},t,null))}},{key:"getMyFriends",value:function(e){return this.getCurrentuserRef().child("/friends/").on("value",e)}},{key:"activateUser",value:function(){return this.getCurrentuserRef().child("active").set(!0)}},{key:"deactivateUser",value:function(){return this.getCurrentuserRef().child("active").set((new Date).getTime())}}]),e}()},37:function(e,t,n){"use strict";var r=n(33),u=n(34),i=n(56),a=n(43),c={apiKey:"".concat(a.a),authDomain:"".concat(a.f,".firebaseapp.com"),databaseURL:"https://".concat(a.b,".firebaseio.com"),projectId:"".concat(a.f),storageBucket:"".concat(a.f,".appspot.com"),messagingSenderId:"".concat(a.g),appId:"".concat(a.g),measurementId:"".concat(a.d)},s=function(){function e(){Object(r.a)(this,e),this.firebaseApp=void 0,i.a.apps.length<1?this.firebaseApp=i.a.initializeApp(c):this.firebaseApp=i.a.apps[0]}return Object(u.a)(e,[{key:"auth",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.firebaseApp.auth()}))},{key:"database",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.firebaseApp.database()}))},{key:"storage",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.firebaseApp.storage()}))}]),e}();t.a=new s},39:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"h",(function(){return f}));var r="LOGIN_OP",u="SIGNUP_OP",i="https://firebasestorage.googleapis.com/v0/b/chatter-app-one-on-one.appspot.com/o/loginImage.jpeg?alt=media&token=09f5d322-c617-499a-aace-573a2ddf737e",a={name:""},c="CREATE_GROUP",s="eaf083c1-1279-48d1-87e4-c5ce02eae56f",o="GROUP_CHAT",f="USER_CHAT"},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return o}));var r="AIzaSyBOJETyCSbUiUsVuVF4YLXWKKW0HfOgw3o",u="chatter-app-one-on-one",i="chatter-app-one-on-one-default-rtdb",a="667912198050",c="G-RHV4CQS211",s={code:"404",message:"DATA NOT AVAILABLE"},o="value"},44:function(e,t,n){"use strict";n.d(t,"r",(function(){return r})),n.d(t,"c",(function(){return u})),n.d(t,"q",(function(){return i})),n.d(t,"v",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return f})),n.d(t,"u",(function(){return l})),n.d(t,"o",(function(){return d})),n.d(t,"p",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return v})),n.d(t,"j",(function(){return g})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return j})),n.d(t,"t",(function(){return m})),n.d(t,"n",(function(){return O})),n.d(t,"l",(function(){return y})),n.d(t,"s",(function(){return U})),n.d(t,"k",(function(){return R})),n.d(t,"m",(function(){return S}));var r={message:"",type:"NON",showToast:!1},u=function(e){return{message:e,type:"ERROR",showToast:!0}},i=function(e){return{message:e,type:"SUCCESS",showToast:!0}},a=function(e){return{message:e,type:"WARNING",showToast:!0}},c=function(e){return{message:e,type:"NON",showToast:!0}},s="Invalid Username or Password",o="Username and Password didn't match, please check",f="Successfully Loggedin",l="Please verify your mailID.",d="Failed to Signup, something went wrong",h="Successfully signed up!!!, please verify your mail",p="Something went wrong",v="Failed to update data, please try again later!!!",g="Please eneter atleast 3 letters to search!",b=function(e){return"Your request is sent to the ".concat(e)},j=function(e){return"Failed to send your request to the ".concat(e)},m="Added to user list!!",O="Request is removed!!",y="Not able to update, please check your internet connection !!!",U="Details Update successfully!!!",R="Please add all required data or file is larger...",S="Not able to create the group..."},45:function(e,t,n){"use strict";var r=n(32),u=n(46),i=n(42),a=n(0),c=n(31),s=(n(55),n(3));t.a=function(e){var t=e.time,n=e.message,o=e.type,f=e.styles,l=void 0===f?{}:f,d=e.showToast,h=void 0!==d&&d,p=Object(a.useState)(!1),v=Object(r.a)(p,2),g=v[0],b=v[1];Object(a.useEffect)((function(){h&&j()}),[h]);var j=function(){b(!0),Object(c.a)(t,m)},m=function(){return b(!1)};return g?Object(s.jsxs)("div",{className:function(e){switch(e){case"ERROR":return"toastWrapper error";case"SUCCESS":return"toastWrapper success";case"WARNING":return"toastWrapper warning";default:return"toastWrapper info"}}(o),style:l,children:[Object(s.jsx)("div",{className:"iconWrapper",children:Object(s.jsx)(i.a,{icon:function(e){switch(e){case"ERROR":return u.k;case"SUCCESS":return u.b;case"WARNING":return u.f;default:return u.g}}(o)})}),Object(s.jsx)("div",{className:"messageWrapper",children:n})]}):null}},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return i}));var r="EMAIL",u="PASSWORD",i="NAME"},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(49),u=function(e,t){var n,u,i=[];return e===r.a&&i.push(function(e){if(""!==e)return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase());return!1}(t)),e===r.c&&i.push(""!==(n=t)&&n.length>=8),e===r.b&&i.push(""!==(u=t)&&u.length>=8),!i.some((function(e){return!e}))}},55:function(e,t,n){},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(33),u=n(34),i=n(31),a=n(37),c=function(){function e(){Object(r.a)(this,e),this.auth=void 0,this.storage=void 0;var t=a.a;this.storage=t.storage(),this.auth=t.auth()}return Object(u.a)(e,[{key:"getCurrentUser",value:function(){return this.auth.currentUser}},{key:"saveProfilePic",value:function(e){var t,n=Object(i.c)((null===(t=this.getCurrentUser())||void 0===t?void 0:t.email)||"");return this.storage.ref("/profilePic/"+n).put(e)}}]),e}()},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"profilePic";if(e.target.validity.valid){var r,u,i,a=(null===(r=document.getElementById(n))||void 0===r||null===(u=r.files)||void 0===u||null===(i=u.item(0))||void 0===i?void 0:i.size)||0;return!(a/1024>1024||0===a)&&(t(e.target.value.split("\\").pop()),!0)}}},94:function(e,t,n){}}]);
//# sourceMappingURL=9.ddd2b78d.chunk.js.map